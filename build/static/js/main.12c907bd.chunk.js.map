{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","cart_item","id","payload","map","amount","reduce","cart_total","cart_current","price","total","parseFloat","toFixed","loading","temp_cart","Error","AppContext","React","createContext","initial_state","title","img","AppProvider","children","useReducer","dispatch","fetch_data","a","fetch","response","json","useEffect","Provider","value","clear_cart","remove","increase","decrease","toggle_amount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","item","console","log","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.12c907bd.chunk.js","sourcesContent":["const reducer = (state, action) => {\n    switch (action.type) {\n        case 'CLEAR_CART':\n            return {\n                ...state,\n                cart: []\n            }\n\n        case 'REMOVE':\n            return {\n                ...state,\n                cart: state.cart.filter(cart_item => cart_item.id !== action.payload)\n            }\n\n        case 'INCREASE':\n            return {\n                ...state,\n                cart: state.cart.map(cart_item => {\n\n                    if (cart_item.id === action.payload) {\n                        return {\n                            ...cart_item,\n                            amount: cart_item.amount + 1\n                        }\n                    }\n                    return cart_item;\n                })\n            }\n\n        case 'DECREASE':\n            return {\n                ...state,\n                cart: state.cart.map(cart_item => {\n\n                    if (cart_item.id === action.payload) {\n                        return {\n                            ...cart_item,\n                            amount: cart_item.amount - 1\n                        }\n                    }\n                    return cart_item;\n                }).filter((cart_item) => cart_item.amount !== 0)\n            }\n\n        case 'GET_TOTAL':\n\n            const { total, amount } = state.cart.reduce((cart_total, cart_current) => {\n                const { price, amount } = cart_current;\n\n                cart_total.total += price * amount;\n                cart_total.amount += amount;\n                return cart_total;\n            }, { total: 0, amount: 0 })\n\n            return {\n                ...state,\n                total: parseFloat(total.toFixed(2)),\n                amount\n            }\n\n        case 'LOADING':\n            return {\n                ...state,\n                loading: true\n            }\n\n        case 'DISPLAY_ITEMS':\n            return {\n                ...state,\n                loading: false,\n                cart: action.payload\n            }\n\n        case 'TOGGLE_AMOUNT':\n            let temp_cart = state.cart\n                .map((cart_item) => {\n                    if (cart_item.id === action.payload.id) {\n                        if (action.payload.type === 'inc') {\n                            return { ...cart_item, amount: cart_item.amount + 1 }\n                        }\n                        else if (action.payload.type === 'dec') {\n                            return { ...cart_item, amount: cart_item.amount - 1 }\n                        }\n                    }\n                    return cart_item\n                })\n                .filter((cart_item) => cart_item.amount !== 0)\n            return { ...state, cart: temp_cart }\n\n        default:\n            throw new Error('No matching action type')\n            break;\n    }\n}\n\nexport default reducer;","import React, { useState, useContext, useReducer, useEffect } from 'react'\nimport cartItems from './data'\nimport reducer from './reducer'\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-useReducer-cart-project'\nconst AppContext = React.createContext()\n\nconst initial_state = {\n  loading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0\n}\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initial_state)\n\n  const clear_cart = () => {\n    dispatch({ type: 'CLEAR_CART' })\n  }\n\n  const remove = (id) => {\n    dispatch({ type: 'REMOVE', payload: id })\n  }\n\n  const increase = id => {\n    dispatch({ type: 'INCREASE', payload: id })\n  }\n\n  const decrease = id => {\n    dispatch({ type: 'DECREASE', payload: id })\n  }\n\n  const fetch_data = async () => {\n    dispatch({ type: 'LOADING' });\n    const response = await fetch(url);\n    const cart = await response.json();\n    dispatch({type: 'DISPLAY_ITEMS', payload: cart})\n  }\n\n  const toggle_amount = (id, type) => {\n    dispatch({type: 'TOGGLE_AMOUNT', payload: {id, type}})\n  }\n\n  useEffect(() => {\n    fetch_data();\n  }, [])\n\n  useEffect(() => {\n    dispatch({type: 'GET_TOTAL'})\n  }, [state.cart])\n\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clear_cart,\n        remove,\n        increase,\n        decrease,\n        toggle_amount,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext)\n}\n\nexport { AppContext, AppProvider }\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n  return (\n    <nav>\n      <div className='nav-center'>\n        <h3>useReducer</h3>\n        <div className='nav-container'>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n          </svg>\n          <div className='amount-container'>\n            <p className='total-amount'>{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { remove, increase, decrease, toggle_amount } = useGlobalContext();\n  return (\n    <article className='cart-item'>\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className='item-price'>${price}</h4>\n        {/* remove button */}\n        <button\n          className='remove-btn'\n          onClick={() => remove(id)}\n        >\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className='amount-btn' onClick={() => toggle_amount(id, 'inc')}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className='amount'>{amount}</p>\n        {/* decrease amount */}\n        <button className='amount-btn' onClick={() => toggle_amount(id, 'dec')}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n          </svg>\n        </button>\n      </div>\n    </article>\n  )\n}\n\nexport default CartItem\n","import React from 'react'\nimport CartItem from './CartItem'\nimport { useGlobalContext } from './context'\n\nconst CartContainer = () => {\n  const { cart, total, clear_cart } = useGlobalContext()\n  if (cart.length === 0) {\n    return (\n      <section className='cart'>\n        {/* cart header */}\n        <header>\n          <h2>your bag</h2>\n          <h4 className='empty-cart'>is currently empty</h4>\n        </header>\n      </section>\n    )\n  }\n  return (\n    <section className='cart'>\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          console.log(item,'-----------------');\n          return <CartItem key={item.id} {...item} />\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className='cart-total'>\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button\n          className='btn clear-btn'\n          onClick={clear_cart}\n        >\n          clear cart\n        </button>\n      </footer>\n    </section>\n  )\n}\n\nexport default CartContainer\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\n// components\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\n// items\n\nfunction App() {\n\n  const {loading} = useGlobalContext()\n\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}